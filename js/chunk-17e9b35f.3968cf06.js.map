{"version":3,"sources":["webpack:///./src/assets/image/back.svg","webpack:///./src/components/TweetDetail.vue?575c","webpack:///./src/views/Reply.vue?7299","webpack:///./src/views/Reply.vue?7bb2","webpack:///./src/components/TweetDetail.vue?df74","webpack:///src/components/TweetDetail.vue","webpack:///./src/components/TweetDetail.vue?36d2","webpack:///./src/components/TweetDetail.vue","webpack:///src/views/Reply.vue","webpack:///./src/views/Reply.vue?3f1e","webpack:///./src/views/Reply.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","back","attrs","_m","afterReplyTweet","tweets","length","_l","tweet","key","id","staticRenderFns","_v","UserId","User","avatar","_s","name","account","description","_f","createdAt","likeCount","replyCount","modelData","isLike","stopPropagation","preventDefault","handleUnLike","handleAddLike","components","Avatar","MainReplyModal","data","accountName","image","isLiked","userId","isLoading","methods","fetchTweetDetail","tweetId","tweetApis","statusText","console","Toast","icon","title","payload","created","filters","timeFormate","datetime","component","Navbar","PopularUser","TweetDetail","Tweet","NoTweet","fetchTweets","updatedAt","replyPerson","unshift","result","computed","mapState"],"mappings":"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","file":"js/chunk-17e9b35f.3968cf06.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/back.07695ee6.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=style&index=0&id=5f6d1e5a&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reply.vue?vue&type=style&index=0&id=a94c41bc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"gridWrapper\"},[_c('div',{staticClass:\"navbarWrapper\"},[_c('Navbar')],1),_c('main',[_c('div',{staticClass:\"card-list\"},[_c('div',{staticClass:\"head\"},[_c('i',{on:{\"click\":function($event){return _vm.$router.back()}}},[_c('img',{attrs:{\"src\":require(\"../assets/image/back.svg\"),\"alt\":\"\"}})]),_vm._m(0)])]),_c('TweetDetail',{on:{\"after-reply-tweet\":_vm.afterReplyTweet}}),(!_vm.tweets.length)?_c('NoTweet',{attrs:{\"initText\":\"尚沒有任何回復~\"}}):_vm._l((_vm.tweets),function(tweet){return _c('Tweet',{key:tweet.id,attrs:{\"initTweet\":tweet,\"initLikesAndReplies\":false}})})],2),_c('div',{staticClass:\"popularList\"},[_c('PopularUser')],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userInfo\"},[_c('h2',[_vm._v(\"推文\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweet-detail\"},[_c('div',{staticClass:\"detail-user\"},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('Avatar',{attrs:{\"initUserId\":_vm.tweet.UserId,\"initImage\":_vm.tweet.User.avatar}})],1),_c('div',{staticClass:\"detail-name\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.tweet.User.name))]),_c('div',{staticClass:\"account-name\"},[_vm._v(_vm._s(_vm.tweet.User.account))])])]),_c('div',{staticClass:\"tweet-content\"},[_vm._v(_vm._s(_vm.tweet.description))]),_c('div',{staticClass:\"detail-time\"},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"timeFormate\")(_vm.tweet.createdAt)))])]),_c('div',{staticClass:\"reactions\"},[_c('div',{staticClass:\"reaction\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.tweet.likeCount))]),_c('span',[_vm._v(\"喜歡次數\")])]),_c('div',{staticClass:\"reaction\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.tweet.replyCount))]),_c('span',[_vm._v(\"回覆\")])])]),_c('div',{staticClass:\"icon-group\"},[_c('a',{attrs:{\"href\":\"#\"}},[_c('MainReplyModal',{attrs:{\"initTweet\":_vm.modelData},on:{\"after-reply-tweet\":_vm.afterReplyTweet}})],1),_c('a',{staticClass:\"favorite\",attrs:{\"href\":\"#\"}},[(!_vm.tweet.isLike)?_c('i',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleAddLike(_vm.tweet.id)}}},[_c('img',{attrs:{\"src\":require(\"../assets/image/favorite.svg\"),\"alt\":\"尚未加入最愛\"}})]):_c('i',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleUnLike(_vm.tweet.id)}}},[_c('img',{attrs:{\"src\":require(\"../assets/image/favorite-active.svg\"),\"alt\":\"加入最愛中\"}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"tweet-detail\">\r\n        <div class=\"detail-user\">\r\n            <div class=\"avatar-wrapper\">\r\n                <Avatar :initUserId=\"tweet.UserId\" :initImage=\"tweet.User.avatar\"/>\r\n            </div>\r\n            <div class=\"detail-name\">\r\n                <div class=\"name\">{{tweet.User.name}}</div>\r\n                <div class=\"account-name\">{{tweet.User.account}}</div>\r\n            </div>\r\n         </div>\r\n        <div class=\"tweet-content\">{{tweet.description}}</div>\r\n        <div class=\"detail-time\">\r\n            <div class=\"time\">{{tweet.createdAt | timeFormate}}</div>\r\n            <!-- <div class=\"date\"></div> -->\r\n        </div>\r\n        <div class=\"reactions\">\r\n            <div class=\"reaction\">\r\n                <a href=\"#\">{{tweet.likeCount}}</a>\r\n                <span>喜歡次數</span>\r\n            </div>\r\n            <div class=\"reaction\">\r\n                <a href=\"#\">{{tweet.replyCount}}</a>\r\n                <span>回覆</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"icon-group\">\r\n            <a href=\"#\" >\r\n                <MainReplyModal\r\n                :initTweet=\"modelData\"\r\n                @after-reply-tweet=\"afterReplyTweet\"\r\n                />\r\n                </a>\r\n            <a href=\"#\" class=\"favorite\">\r\n                <i \r\n                v-if=\"!tweet.isLike\"\r\n                @click.stop.prevent=\"handleAddLike(tweet.id)\"\r\n                ><img src=\"../assets/image/favorite.svg\" alt=\"尚未加入最愛\"></i>\r\n                <i \r\n                v-else\r\n                @click.stop.prevent=\"handleUnLike(tweet.id)\"\r\n                ><img src=\"../assets/image/favorite-active.svg\" alt=\"加入最愛中\"></i>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Avatar from '../components/Avatar.vue'\r\nimport tweetApis from '../apis/tweet'\r\nimport { Toast } from '../utils/helpers'\r\nimport moment from 'moment'\r\nimport MainReplyModal from '../components/MainReplyModal.vue'\r\n// import {Like} from '../utils/mixins'\r\n\r\nexport default {\r\n    name: 'tweetDetail',\r\n    components: {\r\n        Avatar,\r\n        MainReplyModal\r\n    },\r\n    data(){\r\n        return {\r\n            tweet: {},\r\n            modelData: {\r\n                accountName: '',\r\n                createdAt: '',\r\n                description: '',\r\n                id: -1,\r\n                image: '',\r\n                isLiked: false,\r\n                likeCount: 0,\r\n                name: '',\r\n                replyCount: 0,\r\n                userId: -1\r\n            },\r\n            isLoading: false\r\n        }\r\n    },\r\n    methods:{\r\n        async fetchTweetDetail(tweetId){\r\n            try{\r\n                const {data, statusText} = await tweetApis.getTweet({tweetId})\r\n                // console.log('&&&',data)\r\n                //  User:\r\n                        // account: \"root\"\r\n                        // avatar: \"https://loremflickr.com/320/320/people\"\r\n                        // id: 7\r\n                        // name: \"root\"\r\n                // UserId: 7\r\n                // createdAt: \"2022-02-27T17:09:03.000Z\"\r\n                // description: \"Cumque omnis qui aut cum vel. Consequatur debitis nihi\"\r\n                // id: 75\r\n                // updatedAt: \"2022-02-27T17:09:03.000Z\"\r\n                if(statusText !== 'OK'){\r\n                    throw new Error(statusText)\r\n                }\r\n                this.tweet = data\r\n                const {createdAt, description, id, isLike, likeCount, replyCount, UserId, User} = data\r\n                const {account, name, avatar} = User\r\n                this.modelData = {\r\n                    accountName: account,\r\n                    createdAt,\r\n                    description,\r\n                    id,\r\n                    image: avatar,\r\n                    isLike,\r\n                    likeCount,\r\n                    name,\r\n                    replyCount,\r\n                    userId: UserId\r\n                }\r\n               \r\n\r\n            }catch(error){\r\n                console.log('error', error.message)\r\n                Toast.fire({\r\n                    icon: 'error',\r\n                    title: '獲取貼文資料失敗，請稍後再試'\r\n                })\r\n            }\r\n        },\r\n        afterReplyTweet(payload){\r\n            // console.log('payload',payload)\r\n            this.$emit('after-reply-tweet', payload)\r\n        },\r\n        async handleAddLike(tweetId){\r\n            // 若還在處理中則不受理\r\n            if(this.isLoading === true) return\r\n            try{\r\n                // call api 前改狀態為處理中\r\n                this.isLoading = true \r\n\r\n                const {statusText} = await tweetApis.addLike({tweetId})\r\n                if(statusText !== 'OK'){\r\n                    throw new Error(statusText)\r\n                }\r\n                this.tweet = {\r\n                    ...this.tweet,\r\n                    likeCount: this.tweet.likeCount + 1,\r\n                    isLike: true\r\n                }\r\n                // call api 後並且畫面改變 狀態為處理完成\r\n                this.isLoading = false \r\n            }catch(error){\r\n                console.log('error',error.message)\r\n                Toast.fire({\r\n                    icon: 'error',\r\n                    title: '加到喜歡失敗，請稍後再試'\r\n                })\r\n                // call api 失敗後 狀態為處理完成\r\n                this.isLoading = false \r\n            }\r\n        },\r\n        async handleUnLike(tweetId){\r\n            // 若還在處理中則不受理\r\n            if(this.isLoading === true) return\r\n            try{\r\n                // call api 前改狀態為處理中\r\n                this.isLoading = true \r\n                const {statusText} = await tweetApis.unLike({tweetId})\r\n                if(statusText !== 'OK'){\r\n                    throw new Error(statusText)\r\n                }\r\n                this.tweet = {\r\n                    ...this.tweet,\r\n                    likeCount: this.tweet.likeCount - 1,\r\n                    isLike: false\r\n                }\r\n                // call api 後並且畫面改變 狀態為處理完成\r\n                this.isLoading = false \r\n            }catch(error){\r\n                console.log('error',error.message)\r\n                Toast.fire({\r\n                    icon: 'error',\r\n                    title: '收回喜歡失敗，請稍後再試'\r\n                })\r\n                // call api 失敗後 狀態為處理完成\r\n                this.isLoading = false \r\n            }\r\n        },\r\n    },\r\n    created(){\r\n        const id = this.$route.params.id\r\n        this.fetchTweetDetail(id)\r\n    },\r\n    filters:{\r\n        timeFormate(datetime){\r\n            // 若值不存在返回\r\n            if(!datetime) return '-'\r\n\r\n            // 若格式不符返回\r\n            if(moment(datetime).isValid === false) return '-'\r\n            // const AMPM = moment(datetime).format('A') === 'AM' ? '上午' : '下午'\r\n            // TODO:AM換成中文\r\n            return moment(datetime).format('A HH:mm•YYYY年MM月DD日')\r\n        }\r\n    },\r\n    // mixins: [Like]\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .tweet-detail{\r\n        background-color: $white;\r\n        border: 1px solid $border;\r\n        padding: 15px 15px 10px 15px;\r\n        .detail-user{\r\n            display: flex;\r\n            margin-bottom: 15px;\r\n            .detail-name{\r\n                .name{\r\n                    @include font(15px, 1.5, normal, 700);\r\n                }\r\n                .account-name{\r\n                    color: $dark-grey;\r\n                    @include font(15px, 1.5, normal, 500);\r\n                    &:before{\r\n                        content: '@'\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .tweet-content{\r\n            flex-shrink: 0;\r\n            max-width: 510px;\r\n            margin-bottom: 15px;\r\n            @include font(23px, 34px ,normal, 500);\r\n        }\r\n        .detail-time{\r\n            .time{\r\n                padding-bottom: 15px;\r\n                color: $dark-grey;\r\n                border-bottom: 1px solid $border;\r\n                @include font(15px, 21.72px, normal, 500);\r\n            }\r\n        }\r\n        .reactions{\r\n            display: flex;\r\n            align-items: center;\r\n            border-bottom: 1px solid $border;\r\n            .reaction{\r\n                margin-right: 20px;\r\n                padding-top: 20px;\r\n                padding-bottom: 20px;\r\n                >a{\r\n                    display: inline-block;\r\n                    margin-right: 3px;\r\n                    @include font(19px, 27.51px, normal, 700);\r\n                }\r\n                >span{\r\n                    display: inline-block;\r\n                    @include font(19px, 27.51px, normal, 500);\r\n                }\r\n            }\r\n        }\r\n        .icon-group{\r\n            display: flex;\r\n            align-items: center;\r\n            margin-top: 10px;\r\n            >a{\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            width: 25px;\r\n            height: 25px;\r\n            >i{\r\n                width: 100%;\r\n                height: 100%;\r\n                >img{\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n            &:not(:last-child){\r\n                margin-right: 155px;\r\n            }\r\n            >img{\r\n                width: 25px;\r\n            }\r\n            \r\n        }\r\n        }\r\n    }\r\n    .avatar-wrapper{\r\n        width: 50px;\r\n        height: 50px;\r\n        margin-right: 10px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetDetail.vue?vue&type=template&id=5f6d1e5a&scoped=true&\"\nimport script from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetDetail.vue?vue&type=style&index=0&id=5f6d1e5a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f6d1e5a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"gridWrapper\">\r\n      <div class=\"navbarWrapper\">\r\n        <Navbar />\r\n      </div>\r\n      <main>\r\n        <div class=\"card-list\">\r\n          <div class=\"head\">\r\n                <i @click=\"$router.back()\">\r\n                    <img src=\"../assets/image/back.svg\" alt=\"\">\r\n                </i>\r\n                <div class=\"userInfo\">\r\n                    <h2>推文</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <TweetDetail\r\n        @after-reply-tweet=\"afterReplyTweet\"/>\r\n        <NoTweet\r\n          v-if=\"!tweets.length\"\r\n          initText=\"尚沒有任何回復~\"\r\n          />\r\n        <Tweet\r\n         v-else\r\n         v-for=\"tweet in tweets\" \r\n         :key=\"tweet.id\" \r\n         :initTweet=\"tweet\"\r\n         :initLikesAndReplies = false\r\n         />\r\n      </main>\r\n      <div class=\"popularList\">\r\n        <PopularUser />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"../components/Navbar.vue\";\r\nimport Tweet from \"../components/Tweet/Tweet.vue\";\r\nimport TweetDetail from '../components/TweetDetail.vue'\r\nimport PopularUser from \"../components/PopularUser.vue\";\r\nimport tweetApis from '../apis/tweet'\r\nimport { Toast } from '../utils/helpers'\r\nimport NoTweet from '../components/Tweet/NoTweet.vue'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Reply',\r\n  components: {\r\n    Navbar,\r\n    PopularUser,\r\n    TweetDetail,\r\n    Tweet,\r\n    NoTweet\r\n  },\r\n  data() {\r\n    return {\r\n      tweets: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchTweets(tweetId){\r\n      try{\r\n        const { data,statusText } = await tweetApis.getTweetReply({tweetId})\r\n        // console.log('###',data)\r\n        \r\n        if(statusText !== 'OK'){\r\n          throw new Error(statusText)\r\n        }\r\n        // tweet接收的資料格式，務必照此格式tweet才能正常顯示\r\n\r\n        this.tweets = data.map(tweet => {\r\n          const {comment, createdAt, updatedAt, id, User, Tweet} = tweet\r\n          const {account, avatar, id:userId, name} = User\r\n          return {\r\n            id: id,\r\n            UserId: userId,\r\n            description: comment,\r\n            createdAt: createdAt,\r\n            updatedAt: updatedAt,\r\n            userId: userId,\r\n            User: {\r\n                id: userId,\r\n                name,\r\n                account,\r\n                avatar,\r\n            },\r\n            replyPerson: Tweet.User.name      \r\n          }\r\n        })\r\n      }catch(error){\r\n        console.log('error', error)\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無取取得推文回覆資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    afterReplyTweet(payload){\r\n      const {id, description} = payload\r\n      // 回傳前端假tweet物件\r\n      const result = {\r\n          id,\r\n          UserId: this.currentUser.id,\r\n          description,\r\n          // replyPerson: ,\r\n          // TODO:優化\r\n          createdAt: new Date(),\r\n          User: {\r\n            name: this.currentUser.name,\r\n            account: this.currentUser.account ? this.currentUser.account : '找不到帳戶',\r\n            avatar: this.currentUser.avatar,\r\n          }\r\n      }\r\n      // console.log('@@#',result)\r\n      // 推進陣列\r\n      this.tweets.unshift(result)\r\n    }\r\n\r\n  },\r\n  created(){\r\n    const id = this.$route.params.id\r\n    this.fetchTweets(id)\r\n  },\r\n  computed: {\r\n       ...mapState(['currentUser'])\r\n   }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  .gridWrapper {\r\n    max-width: 1260px;\r\n    margin: 0 auto;\r\n    display: grid;\r\n    grid-template-columns: auto 1fr auto;\r\n    grid-template-rows: auto;\r\n    gap: 30px;\r\n  }\r\n}\r\n.navbarWrapper {\r\n  display: block;\r\n  /* border: 1px solid #000; */\r\n  height: 100%;\r\n  min-height: 100vh;\r\n}\r\n.popularList {\r\n  /* border: 1px solid #000; */\r\n  width: 350px;\r\n  height: 1000px;\r\n}\r\nmain {\r\n  background-color: $border;\r\n  width: 100%;\r\n  height: 1200px;\r\n  border: 1px solid $border;\r\n  .card-list {\r\n    .head{\r\n          display: flex;\r\n          align-items: center;\r\n          background-color: $white;\r\n          padding: 5px 20px;\r\n          >i{\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              // 點擊區域\r\n              width: 44px;\r\n              height: 44px;\r\n              cursor: pointer;\r\n          }\r\n          .userInfo{\r\n              display: flex;\r\n              flex-direction: column;\r\n              padding-left: 43px;\r\n              >h2{\r\n                @include font(18px, 1.4, normal, 700);\r\n            }\r\n          }\r\n      }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reply.vue?vue&type=template&id=a94c41bc&scoped=true&\"\nimport script from \"./Reply.vue?vue&type=script&lang=js&\"\nexport * from \"./Reply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reply.vue?vue&type=style&index=0&id=a94c41bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a94c41bc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}